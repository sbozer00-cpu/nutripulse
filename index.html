<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>NutriPulse Pro Dashboard</title>
    <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>

<div class="app-wrapper">

    <main class="main-column">
        
        <header class="top-header">
            <div class="brand">NutriPulse <span class="pro-badge">PRO</span></div>
            <div class="date-wrapper">
                <input type="date" id="datePicker">
            </div>
        </header>

        <div class="card add-card">
            <h2>מה אכלת היום?</h2>
            
            <div class="search-box">
                <input type="text" id="foodSearch" placeholder="חפש מזון (למשל: בננה, חזה עוף, קוטג')..." autocomplete="off">
                <ul id="foodResults" class="results-list hidden"></ul>
            </div>

            <div id="editPanel" class="edit-panel hidden">
                <div class="food-header">
                    <span id="foodNameDisplay" class="fname"></span>
                    <span id="foodKcalDisplay" class="fkcal"></span>
                </div>

                <div class="controls">
                    <div class="toggle-group">
                        <button id="modeGrams" class="t-btn active">גרם (g)</button>
                        <button id="modeUnits" class="t-btn">יחידות</button>
                    </div>
                    
                    <div class="qty-control">
                        <button id="btnMinus" class="q-btn">−</button>
                        <input type="number" id="amountInput" value="100">
                        <button id="btnPlus" class="q-btn">+</button>
                    </div>
                </div>

                <div id="quickChips" class="chips"></div>

                <button id="addBtn" class="action-btn">הוסף ליומן</button>
            </div>
        </div>

        <div class="card journal-card">
            <div class="card-head">
                <h3>יומן יומי</h3>
                <span id="totalKcalJournal" class="tag">0 קלוריות</span>
            </div>
            <div id="journalList" class="journal-list">
                </div>
        </div>
    </main>


    <aside class="sidebar">
        
        <div class="stat-card score-section">
            <div class="score-circle">
                <span id="dailyScore">0</span>
                <small>ציון</small>
            </div>
            <div class="score-info">
                <h4>ניתוח תזונתי</h4>
                <div id="statusMessage">טרם הוזנו נתונים</div>
            </div>
        </div>

        <div id="alertsBox" class="alert-box hidden">
            <div class="alert-title">⚠️ שים לב:</div>
            <ul id="alertsList"></ul>
        </div>

        <div class="stat-card">
            <h4>מאקרו-נוטריאנטים</h4>
            <div class="macro-bars">
                <div class="mb-item">
                    <div class="mb-label">
                        <span>חלבון</span>
                        <span id="valProtein">0g</span>
                    </div>
                    <div class="progress"><div id="barProtein" class="fill p"></div></div>
                </div>
                <div class="mb-item">
                    <div class="mb-label">
                        <span>פחמימה</span>
                        <span id="valCarbs">0g</span>
                    </div>
                    <div class="progress"><div id="barCarbs" class="fill c"></div></div>
                </div>
                <div class="mb-item">
                    <div class="mb-label">
                        <span>שומן</span>
                        <span id="valFat">0g</span>
                    </div>
                    <div class="progress"><div id="barFat" class="fill f"></div></div>
                </div>
            </div>
        </div>

        <div class="stat-card micros-card">
            <h4>ויטמינים ומינרלים</h4>
            <div class="micros-grid" id="microsList">
                </div>
        </div>
        
        <div class="sidebar-footer">
            <button id="settingsBtn">⚙️ הגדרות</button>
            <button id="resetApp" class="danger-text">איפוס נתונים</button>
        </div>

    </aside>

</div>

<div id="settingsModal" class="modal hidden">
    <div class="modal-content">
        <h3>הגדרת יעדים אישיים</h3>
        <div id="settingsForm"></div> <div class="modal-actions">
            <button id="saveSettings" class="action-btn">שמור שינויים</button>
            <button id="closeSettings" class="close-btn">סגור</button>
        </div>
    </div>
</div>

<script src="app.js"></script>
</body>
</html>
